version: '3'
services:
  nginx:
    build:
      context: ./Configs
      dockerfile: Dockerfile.nginx
    restart: unless-stopped
    ports:
      - "80:80"
    # volumes:
    #   - ./nginx.conf:/etc/nginx/nginx.conf:ro

  apache:
    build:
      context: ./Configs
      dockerfile: Dockerfile.apache
    restart: unless-stopped
    ports:
      - "8080:80"
    # volumes:
    #   -
    networks:
      net1:
        ipv4_address: 10.10.10.10

  caddy:
    build:
      context: ./Configs
      dockerfile: Dockerfile.caddy
    restart: unless-stopped
    ports:
      - "8081:2015"
    # volumes:
    #   - ./Caddyfile:/etc/caddy/Caddyfile
    networks:
      net2:
        ipv4_address: 20.20.20.20

networks:
  net1:
    driver: bridge
    ipam:
     config:
       - subnet: 10.10.10.0/24
  net2:
    driver: bridge
    ipam:
     config:
       - subnet: 20.20.20.0/24